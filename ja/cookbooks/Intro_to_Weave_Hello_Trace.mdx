---
- title: ãƒˆãƒ¬ãƒ¼ã‚¹ã®ç´¹ä»‹
- description: W&B Weaveã§ãƒˆãƒ¬ãƒ¼ã‚¹ã®ç´¹ä»‹ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã‚’å­¦ã¶
---

<Note>
  ã“ã‚Œã¯ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ã§ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œã™ã‚‹ã‹ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ï¼š

  * [Google Colabã§é–‹ã](https://colab.research.google.com/github/wandb/weave/blob/master/docs/notebooks/Intro_to_Weave_Hello_Trace.ipynb)
  * [GitHubã§ã‚½ãƒ¼ã‚¹ã‚’è¡¨ç¤º](https://github.com/wandb/weave/blob/master/docs/notebooks/Intro_to_Weave_Hello_Trace.ipynb)
</Note>

## ğŸ”‘ å‰ææ¡ä»¶

Weaveã§ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã®å‰ææ¡ä»¶ã‚’å®Œäº†ã—ã¦ãã ã•ã„ã€‚

1. W\&B Weave SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ã‚ãªãŸã®[API key](https://wandb.ai/settings#api)ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚
2. OpenAI SDKã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ã‚ãªãŸã®[API key](https://platform.openai.com/api-keys)ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚
3. W\&Bãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚

```python
# Install dependancies and imports
!pip install wandb weave openai -q

import json
import os
from getpass import getpass

from openai import OpenAI

import weave

# ğŸ”‘ Setup your API keys
# Running this cell will prompt you for your API key with `getpass` and will not echo to the terminal.
#####
print("---")
print(
    "You can find your Weights and Biases API key here: https://wandb.ai/settings#api"
)
os.environ["WANDB_API_KEY"] = getpass("Enter your Weights and Biases API key: ")
print("---")
print("You can generate your OpenAI API key here: https://platform.openai.com/api-keys")
os.environ["OPENAI_API_KEY"] = getpass("Enter your OpenAI API key: ")
print("---")
#####

# ğŸ  Enter your W&B project name
weave_client = weave.init("MY_PROJECT_NAME")  # ğŸ Your W&B project name
```

## ğŸ æœ€åˆã®ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’å®Ÿè¡Œã™ã‚‹

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ã¯ã€`@weave.op`ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦Weaveã§ãƒˆãƒ¬ãƒ¼ã‚¹ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã¦å¯è¦–åŒ–ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯`extract_fruit`ã¨ã„ã†é–¢æ•°ã‚’å®šç¾©ã—ã€OpenAIã®GPT-4oã«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’é€ä¿¡ã—ã¦æ–‡ã‹ã‚‰æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆæœç‰©ã€è‰²ã€é¢¨å‘³ï¼‰ã‚’æŠ½å‡ºã—ã¾ã™ã€‚ã“ã®é–¢æ•°ã‚’`@weave.op`ã§ãƒ‡ã‚³ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã€Weaveã¯å…¥åŠ›ã€å‡ºåŠ›ã€ä¸­é–“ã‚¹ãƒ†ãƒƒãƒ—ã‚’å«ã‚€é–¢æ•°ã®å®Ÿè¡Œã‚’è‡ªå‹•çš„ã«è¿½è·¡ã—ã¾ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«æ–‡ã§é–¢æ•°ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€å®Œå…¨ãªãƒˆãƒ¬ãƒ¼ã‚¹ãŒä¿å­˜ã•ã‚Œã€Weave UIã§è¡¨ç¤ºã§ãã¾ã™ã€‚

```python
@weave.op()  # ğŸ Decorator to track requests
def extract_fruit(sentence: str) -> dict:
    client = OpenAI()
    system_prompt = (
        "Parse sentences into a JSON dict with keys: fruit, color and flavor."
    )
    response = client.chat.completions.create(
        model="gpt-4o",
        messages=[
            {"role": "system", "content": system_prompt},
            {"role": "user", "content": sentence},
        ],
        temperature=0.7,
        response_format={"type": "json_object"},
    )
    extracted = response.choices[0].message.content
    return json.loads(extracted)

sentence = "There are many fruits that were found on the recently discovered planet Goocrux. There are neoskizzles that grow there, which are purple and taste like candy."
extract_fruit(sentence)
```

## ğŸš€ ã•ã‚‰ã«ä¾‹ã‚’æ¢ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ

* ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š[Quickstart guide](https://weave-docs.wandb.ai/quickstart)ã€‚
* è©³ç´°ã«ã¤ã„ã¦ã¯[advanced tracing topics](https://weave-docs.wandb.ai/tutorial-tracing_2)ã‚’ã”è¦§ãã ã•ã„ã€‚
* è©³ç´°ã«ã¤ã„ã¦ã¯[tracing in Weave](https://weave-docs.wandb.ai/guides/tracking/tracing)
