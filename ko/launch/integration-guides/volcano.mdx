---
title: Launch multinode jobs with Volcano
menu:
  launch:
    identifier: ko-launch-integration-guides-volcano
    parent: launch-integration-guides
url: /ko/tutorials//volcano
---

ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” Kubernetesì—ì„œ W&Bì™€ Volcanoë¥¼ ì‚¬ìš©í•˜ì—¬ ë©€í‹° ë…¸ë“œ íŠ¸ë ˆì´ë‹ ì‘ì—…ì„ ì‹œì‘í•˜ëŠ” ê³¼ì •ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

## ê°œìš”

ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” W&B Launchë¥¼ ì‚¬ìš©í•˜ì—¬ Kubernetesì—ì„œ ë©€í‹° ë…¸ë“œ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤. ë”°ë¼í•  ë‹¨ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

- Weights & Biases ê³„ì •ê³¼ Kubernetes í´ëŸ¬ìŠ¤í„°ê°€ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
- volcano ì‘ì—…ì„ ìœ„í•œ Launch ëŒ€ê¸°ì—´ì„ ë§Œë“­ë‹ˆë‹¤.
- Launch ì—ì´ì „íŠ¸ë¥¼ Kubernetes í´ëŸ¬ìŠ¤í„°ì— ë°°í¬í•©ë‹ˆë‹¤.
- ë¶„ì‚° íŠ¸ë ˆì´ë‹ ì‘ì—…ì„ ë§Œë“­ë‹ˆë‹¤.
- ë¶„ì‚° íŠ¸ë ˆì´ë‹ì„ ì‹œì‘í•©ë‹ˆë‹¤.

## í•„ìˆ˜ ì¡°ê±´

ì‹œì‘í•˜ê¸° ì „ì— ë‹¤ìŒì´ í•„ìš”í•©ë‹ˆë‹¤.

- Weights & Biases ê³„ì •
- Kubernetes í´ëŸ¬ìŠ¤í„°

## Launch ëŒ€ê¸°ì—´ ë§Œë“¤ê¸°

ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” Launch ëŒ€ê¸°ì—´ì„ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤. [wandb.ai/launch](https://wandb.ai/launch)ë¡œ ì´ë™í•˜ì—¬ í™”ë©´ ì˜¤ë¥¸ìª½ ìƒë‹¨ì—ì„œ íŒŒë€ìƒ‰ **ëŒ€ê¸°ì—´ ë§Œë“¤ê¸°** ë²„íŠ¼ì„ ëˆ„ë¦…ë‹ˆë‹¤. ëŒ€ê¸°ì—´ ìƒì„± ì°½ì´ í™”ë©´ ì˜¤ë¥¸ìª½ì—ì„œ ë°€ë ¤ ë‚˜ì˜µë‹ˆë‹¤. ì—”í‹°í‹°ë¥¼ ì„ íƒí•˜ê³  ì´ë¦„ì„ ì…ë ¥í•œ ë‹¤ìŒ ëŒ€ê¸°ì—´ ìœ í˜•ìœ¼ë¡œ **Kubernetes**ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

ì„¤ì • ì„¹ì…˜ì—ì„œ [volcano ì‘ì—…](https://volcano.sh/en/docs/vcjob/) í…œí”Œë¦¿ì„ ì…ë ¥í•©ë‹ˆë‹¤. ì´ ëŒ€ê¸°ì—´ì—ì„œ ì‹œì‘ëœ ëª¨ë“  runì€ ì´ ì‘ì—… ì‚¬ì–‘ì„ ì‚¬ìš©í•˜ì—¬ ìƒì„±ë˜ë¯€ë¡œ í•„ìš”ì— ë”°ë¼ ì´ ì„¤ì •ì„ ìˆ˜ì •í•˜ì—¬ ì‘ì—…ì„ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ì„¤ì • ë¸”ë¡ì€ Kubernetes ì‘ì—… ì‚¬ì–‘, volcano ì‘ì—… ì‚¬ì–‘ ë˜ëŠ” ì‹œì‘í•˜ë ¤ëŠ” ë‹¤ë¥¸ ì‚¬ìš©ì ì •ì˜ ë¦¬ì†ŒìŠ¤ ì •ì˜ (CRD)ë¥¼ í—ˆìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ì„¤ì • ë¸”ë¡ì—ì„œ ë§¤í¬ë¡œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤](/ko/launch/set-up-launch/)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ ì‚¬ì–‘ì˜ ë‚´ìš©ì„ ë™ì ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” [volcanoì˜ pytorch í”ŒëŸ¬ê·¸ì¸](https://github.com/volcano-sh/volcano/blob/master/docs/user-guide/how_to_use_pytorch_plugin)ì„ ì‚¬ìš©í•˜ëŠ” ë©€í‹° ë…¸ë“œ pytorch íŠ¸ë ˆì´ë‹ì— ëŒ€í•œ ì„¤ì •ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ë‹¤ìŒ êµ¬ì„±ì„ YAML ë˜ëŠ” JSONìœ¼ë¡œ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<Tabs>
<Tab title="Tab">
```yaml
kind: Job
spec:
  tasks:
    - name: master
      policies:
        - event: TaskCompleted
          action: CompleteJob
      replicas: 1
      template:
        spec:
          containers:
            - name: master
              image: ${image_uri}
              imagePullPolicy: IfNotPresent
          restartPolicy: OnFailure
    - name: worker
      replicas: 1
      template:
        spec:
          containers:
            - name: worker
              image: ${image_uri}
              workingDir: /home
              imagePullPolicy: IfNotPresent
          restartPolicy: OnFailure
  plugins:
    pytorch:
      - --master=master
      - --worker=worker
      - --port=23456
  minAvailable: 1
  schedulerName: volcano
metadata:
  name: wandb-job-${run_id}
  labels:
    wandb_entity: ${entity_name}
    wandb_project: ${project_name}
  namespace: wandb
apiVersion: batch.volcano.sh/v1alpha1
```
</Tab>
<Tab title="Tab">
```json
{
  "kind": "Job",
  "spec": {
    "tasks": [
      {
        "name": "master",
        "policies": [
          {
            "event": "TaskCompleted",
            "action": "CompleteJob"
          }
        ],
        "replicas": 1,
        "template": {
          "spec": {
            "containers": [
              {
                "name": "master",
                "image": "${image_uri}",
                "imagePullPolicy": "IfNotPresent"
              }
            ],
            "restartPolicy": "OnFailure"
          }
        }
      },
      {
        "name": "worker",
        "replicas": 1,
        "template": {
          "spec": {
            "containers": [
              {
                "name": "worker",
                "image": "${image_uri}",
                "workingDir": "/home",
                "imagePullPolicy": "IfNotPresent"
              }
            ],
            "restartPolicy": "OnFailure"
          }
        }
      }
    ],
    "plugins": {
      "pytorch": [
        "--master=master",
        "--worker=worker",
        "--port=23456"
      ]
    },
    "minAvailable": 1,
    "schedulerName": "volcano"
  },
  "metadata": {
    "name": "wandb-job-${run_id}",
    "labels": {
      "wandb_entity": "${entity_name}",
      "wandb_project": "${project_name}"
    },
    "namespace": "wandb"
  },
  "apiVersion": "batch.volcano.sh/v1alpha1"
}
```
</Tab>
</Tabs>

ëŒ€ê¸°ì—´ ìƒì„±ì„ ì™„ë£Œí•˜ë ¤ë©´ ì°½ í•˜ë‹¨ì˜ **ëŒ€ê¸°ì—´ ë§Œë“¤ê¸°** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

## Volcano ì„¤ì¹˜

Kubernetes í´ëŸ¬ìŠ¤í„°ì— Volcanoë¥¼ ì„¤ì¹˜í•˜ë ¤ë©´ [ê³µì‹ ì„¤ì¹˜ ê°€ì´ë“œ](https://volcano.sh/en/docs/installation/)ë¥¼ ë”°ë¥´ì‹­ì‹œì˜¤.

## Launch ì—ì´ì „íŠ¸ ë°°í¬

ëŒ€ê¸°ì—´ì„ ë§Œë“¤ì—ˆìœ¼ë¯€ë¡œ ëŒ€ê¸°ì—´ì—ì„œ ì‘ì—…ì„ ê°€ì ¸ì™€ ì‹¤í–‰í•  Launch ì—ì´ì „íŠ¸ë¥¼ ë°°í¬í•´ì•¼ í•©ë‹ˆë‹¤. ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ W&Bì˜ ê³µì‹ `helm-charts` ë¦¬í¬ì§€í† ë¦¬ì—ì„œ [`launch-agent` ì°¨íŠ¸](https://github.com/wandb/helm-charts/tree/main/charts/launch-agent)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. READMEì˜ ì§€ì¹¨ì— ë”°ë¼ ì°¨íŠ¸ë¥¼ Kubernetes í´ëŸ¬ìŠ¤í„°ì— ì„¤ì¹˜í•˜ê³  ì—ì´ì „íŠ¸ê°€ ì•ì—ì„œ ë§Œë“  ëŒ€ê¸°ì—´ì„ í´ë§í•˜ë„ë¡ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

## íŠ¸ë ˆì´ë‹ ì‘ì—… ë§Œë“¤ê¸°

Volcanoì˜ pytorch í”ŒëŸ¬ê·¸ì¸ì€ pytorch ì½”ë“œê°€ DDPë¥¼ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ëŠ” í•œ `MASTER_ADDR`, `RANK` ë° `WORLD_SIZE`ì™€ ê°™ì´ pytorch DPPê°€ ì‘ë™í•˜ëŠ” ë° í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ìë™ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤. ì‚¬ìš©ì ì •ì˜ python ì½”ë“œì—ì„œ DDPë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ [pytorch ì„¤ëª…ì„œ](https://pytorch.org/tutorials/intermediate/ddp_tutorial.html)ë¥¼ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.

<Note>
Volcanoì˜ pytorch í”ŒëŸ¬ê·¸ì¸ì€ [PyTorch Lightning `Trainer`ë¥¼ í†µí•œ ë©€í‹° ë…¸ë“œ íŠ¸ë ˆì´ë‹](https://lightning.ai/docs/pytorch/stable/common/trainer.html#num-nodes)ê³¼ë„ í˜¸í™˜ë©ë‹ˆë‹¤.
</Note>

## Launch ğŸš€

ì´ì œ ëŒ€ê¸°ì—´ê³¼ í´ëŸ¬ìŠ¤í„°ê°€ ì„¤ì •ë˜ì—ˆìœ¼ë¯€ë¡œ ë¶„ì‚° íŠ¸ë ˆì´ë‹ì„ ì‹œì‘í•  ë•Œì…ë‹ˆë‹¤. ë¨¼ì € volcanoì˜ pytorch í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ì—¬ ì„ì˜ì˜ ë°ì´í„°ì— ëŒ€í•´ ê°„ë‹¨í•œ ë‹¤ì¸µ í¼ì…‰íŠ¸ë¡ ì„ íŠ¸ë ˆì´ë‹í•˜ëŠ” [ì‘ì—…](https://wandb.ai/wandb/multinodetest/jobs/QXJ0aWZhY3RDb2xsZWN0aW9uOjc3MDcwNTg1/runs/latest)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì‘ì—…ì— ëŒ€í•œ ì†ŒìŠ¤ ì½”ë“œëŠ” [ì—¬ê¸°](https://github.com/wandb/launch-jobs/tree/main/jobs/distributed_test)ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ì‘ì—…ì„ ì‹œì‘í•˜ë ¤ë©´ [ì‘ì—… í˜ì´ì§€](https://wandb.ai/wandb/multinodetest/jobs/QXJ0aWZhY3RDb2xsZWN0aW9uOjc3MDcwNTg1/runs/latest)ë¡œ ì´ë™í•˜ì—¬ í™”ë©´ ì˜¤ë¥¸ìª½ ìƒë‹¨ì—ì„œ **Launch** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤. ì‘ì—…ì„ ì‹œì‘í•  ëŒ€ê¸°ì—´ì„ ì„ íƒí•˜ë¼ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.

<Frame>
    <img src="/images/launch/launching_multinode_job.png"  />
</Frame>

1. ì›í•˜ëŠ” ëŒ€ë¡œ ì‘ì—… íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
2. ì•ì—ì„œ ë§Œë“  ëŒ€ê¸°ì—´ì„ ì„ íƒí•©ë‹ˆë‹¤.
3. **ë¦¬ì†ŒìŠ¤ êµ¬ì„±** ì„¹ì…˜ì—ì„œ volcano ì‘ì—…ì„ ìˆ˜ì •í•˜ì—¬ ì‘ì—…ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `worker` ì‘ì—…ì—ì„œ `replicas` í•„ë“œë¥¼ ë³€ê²½í•˜ì—¬ ì‘ì—…ì ìˆ˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. **Launch** ğŸš€ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

W&B UIì—ì„œ ì§„í–‰ ìƒí™©ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  í•„ìš”í•œ ê²½ìš° ì‘ì—…ì„ ì¤‘ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
